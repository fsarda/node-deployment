{
"mail":{
    "dependencies": [
	{"name":"registration", "type":"soft"},
	{"name":"rendering", "type":"soft"}
    ],
    "paths":["nodejs/mail/srv"],
    "level": 2,
    "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/mail/srv ec2-user@%location%",
    "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/mail/srv; sudo npm install . -g;'",
    "restart":"ssh -i %production.keypath% ec2-user@%location% 'amail restart;'",
    "location": ["commonrpc"],
    "type": "server"
},
 "rendering":{       
     "dependencies": [],
     "paths":["nodejs/rendering"],
     "level": 6,     
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/rendering ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/rendering; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'rendering restart;'",
     "location" : ["frontend"],
     "type": "server"
 },
 "registration":{
     "dependencies": [
	 {"name":"image", "type":"hard"},
	 {"name":"social", "type":"hard"},
	 {"name":"discover", "type":"hard"},
	 {"name":"rendering", "type":"soft"}
     ],
     "paths":["nodejs/registration"],
     "level": 3,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/registration ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/registration; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'registration restart;'",
     "location" : ["commonrpc"],
     "type": "server"
 },
 "geolocation":{
     "dependencies": [
	 {"name":"rendering", "type":"soft"}     
     ],
     "paths":["nodejs/geoloc/srv"],
     "level": 2,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/geoloc/srv ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/geoloc/srv; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'geoloc-srv restart;'",
     "location" : ["frontend"],
     "type": "server"
 },
 "discover":{
     "dependencies": [
	 {"name":"rendering", "type":"soft"}     
     ],
     "paths":["nodejs/discover"],
     "level": 5,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/discover ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/discover; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'discover restart;'",
     "location" : ["commonrpc"],
     "type": "server"
 },
 "social":{
     "dependencies": [
	 {"name":"rendering", "type":"soft"}   
     ],
     "paths":["nodejs/social"],
     "level": 5,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/social ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/social; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'social restart;'",
     "location" : ["commonrpc"],
     "type": "server"
 },
 "image":{
     "dependencies": [
	 {"name":"social", "type":"soft"},
	 {"name":"discover", "type":"soft"},
	 {"name":"rendering", "type":"soft"}
     ],
     "paths":["nodejs/image"],
     "level": 4,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/image ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/image; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'image restart;'",
     "location" : ["image"],
     "type": "server"
 },
 "search":{
     "dependencies": [
	 {"name":"social", "type":"hard"},
	 {"name":"discover", "type":"hard"},
	 {"name":"rendering", "type":"soft"}
     ],
     "paths":["nodejs/search/srv"],
     "level": 4,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/search/srv ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/search/srv; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'search-srv restart;'",
     "location" : ["frontend"],
     "type": "server"
 },
 "jsonrpc_client":{
     "dependencies": [
	 {"name":"rendering", "type":"hard"},
	 {"name":"search-lib", "type":"soft"},
	 {"name":"registration", "type":"hard"},
	 {"name":"image", "type":"hard"},
	 {"name":"social", "type":"hard"},
	 {"name":"discover", "type":"hard"},
	 {"name":"search", "type":"hard"}
     ],
     "paths":["nodejs/common/jsonrpc_client"],
     "level": 2,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/common/jsonrpc_client ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/common/jsonrpc_client; sudo npm install . -g;'",
     "restart":"",
     "location" : ["commonrpc","image","frontend"],
     "type": "library"
 },
 "jsonrpc_server":{
     "dependencies": [
	 {"name":"geolocation", "type":"hard"},
	 {"name":"mail", "type":"hard"},
	 {"name":"registration", "type":"hard"},
	 {"name":"image", "type":"hard"},
	 {"name":"social", "type":"hard"},
	 {"name":"discover", "type":"hard"},
	 {"name":"search", "type":"hard"},
	 {"name":"search-lib", "type":"soft"}
     ],
     "paths":["nodejs/common/jsonrpc_server"],
     "level": 1,
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/common/jsonrpc_server ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/common/jsonrpc_server; sudo npm install . -g;'",
     "restart":"",
     "location" : ["commonrpc","image","frontend"],
     "type": "library"
 },
 "SHA2":{
     "dependencies": [
	 {"name":"registration", "type":"hard"}
     ],
     "paths":["nodejs/common/SHA2"],
     "level": 2,  
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/common/SHA2 ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/common/SHA2; sudo npm install . -g;'",
     "restart":"",
     "location" : ["commonrpc"],
     "type": "library"
 },
 "utils":{
     "dependencies": [
	 {"name":"rendering", "type":"hard"},
	 {"name":"social", "type":"hard"},
	 {"name":"mail-lib", "type":"soft"},
	 {"name":"geolocation", "type":"hard"},
	 {"name":"mail", "type":"hard"},
	 {"name":"registration", "type":"hard"},
	 {"name":"image", "type":"hard"},
	 {"name":"search-lib", "type":"soft"},
	 {"name":"discover", "type":"hard"}
     ],
     "paths":["nodejs/common/utils"],
     "level": 1,     
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/common/utils ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/common/utils; sudo npm install . -g;'",
     "restart":"",
     "location" : [],
     "type": "library"
 },
 "deployment":{
     "dependencies": [ ],
     "level": 6,
     "paths":["nodejs/deployment/srv"],
     "copy": "",
     "install":"cd ~/Agrosica/nodejs/deployment/srv; sudo npm install . -g;",
     "restart":"deployment start",
     "location" : ["development"],
     "type": "server"
 },
 "deployment-lib":{
     "dependencies": [
	 {"name":"rendering", "type":"hard"},
	 {"name":"social", "type":"hard"},
	 {"name":"mail", "type":"soft"},
	 {"name":"geolocation", "type":"hard"},
	 {"name":"image", "type":"hard"},
	 {"name":"registration", "type":"hard"},
	 {"name":"search", "type":"hard"},
	 {"name":"discover", "type":"hard"}
     ],
     "level": 1,
     "paths":["nodejs/deployment/lib"],
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/deployment/lib ec2-user@%location%",
     "install":"cd ~/Agrosica/nodejs/deployment/lib; sudo npm install . -g;",
     "restart":"",
     "location" : [],
     "type": "library"
 },
 "search-lib":{
     "dependencies": [
	 {"name":"discover", "type":"hard"},
	 {"name":"social", "type":"hard"}
     ],
     "level": 3,
     "paths":["nodejs/search/lib"], 
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/search/lib ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/search/lib; sudo npm install . -g;'",
     "restart":"",
     "location" : [],
     "type": "library"
 },
 "mail-lib":{
     "dependencies": [
	 {"name":"rendering", "type":"hard"},
	 {"name":"registration", "type":"hard"}
     ],
     "level": 2,
     "paths":["nodejs/mail/lib"],
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/mail/lib ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% ' cd ~/Agrosica/nodejs/mail/lib; sudo npm install . -g;'",
     "restart":"",     
     "location" : ["commonrpc","frontend"],
     "type": "library"
 },
 "geolocation-db":{
     "dependencies": [
	 {"name":"geolocation", "type":"hard"}
     ],
     "level": 1,
     "paths":["nodejs/geoloc/db"],
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/geoloc/db ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/geoloc/db; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'geoloc-db restart;'",     
     "location" : ["solr"],
     "type": "server"
 },
 "search-db":{
     "dependencies": [
	 {"name":"search", "type":"hard"}
     ],
     "level": 1,
     "paths":["nodejs/search/db"],
     "copy": "rsync -vazrR -e 'ssh -i %production.keypath%' ~/Agrosica/nodejs/search/db ec2-user@%location%",
     "install":"ssh -i %production.keypath% ec2-user@%location% 'cd ~/Agrosica/nodejs/search/db; sudo npm install . -g;'",
     "restart":"ssh -i %production.keypath% ec2-user@%location% 'search-db restart;'",     
     "location" : ["solr"],
     "type": "server"
 }
}